{% extends 'base.html.twig' %}

{% set pageTitle = 'Plan Titles by Sequence' %}

{% block title %}{{ pageTitle }}{% endblock %}

{% block body %}
    <h1>{{ pageTitle }}</h1>
    <ul>
        <li>Click the numbers under <i>Sequences available</i> to switch between sequences.</li>
        <li>Input is read from <i>backend/app/config/retromat_plan_titles.yml</i></li>
        <li>The <a href="https://moz.com/learn/seo/title-tag">limit of 50-60 characters</a> is not enforced yet, still
            need to extract the ones we can really use.
        </li>
        <li>Total number of combinations: {{ totalCombinations }}</li>
    </ul>
    <h2>Sequences available</h2>
    {% for id,sequence in titleParts.sequence_of_groups %}
        <a href="{{ path('titles-experiment-sequence', {sequenceId: id}) }}">{{ id }}</a>
    {% endfor %}
    <h2>{{ combinationsInSequence }} combinations generated from Sequence: {{ sequenceId }}</h2>
    <table>
        <tr>
            <th style="text-align: left;">Title ID</th>
            <th style="text-align: left;">&nbsp;&nbsp;Length</th>
            <th style="text-align: left;">Title</th>
        </tr>
        {% for id in ids %}
            <tr>
                <td>{{ id }}</td>
                {% set title = title_renderer.render(id) ~ '129-128-118-125-120' %}
                <td style="text-align: center;">{{ title|length }}</td>
                <td>{{ title }}</td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}

